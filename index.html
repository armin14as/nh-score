<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>NH SCORE ‚Äì Sportbox Style</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
<style>
  *, *::before, *::after {
    box-sizing: border-box;
  }
  body {
    font-family: 'Inter', sans-serif;
    background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 25%, #16213e 50%, #0f3460 75%, #533483 100%);
    color: white;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
    scroll-behavior: smooth;
  }
  body::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image:
      radial-gradient(circle at 25% 25%, rgba(120, 119, 198, 0.15) 0%, transparent 40%),
      radial-gradient(circle at 75% 75%, rgba(255, 255, 255, 0.06) 0%, transparent 40%);
    z-index: -1;
  }

  /* Optimierte Progress Bar f√ºr bessere UX */
  .progress-bar {
    position: fixed;
    top: 0;
    left: 0;
    width: 0%;
    height: 4px;
    background: linear-gradient(90deg, #7877c6, #00ffff);
    z-index: 1000;
    transition: width 0.3s ease;
  }

  header {
    text-align: center;
    padding: 4rem 1rem 2rem;
    position: relative;
  }
  .main-title {
    font-size: 3.5rem;
    font-weight: 900;
    background: linear-gradient(135deg, #ffffff, #7877c6);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 1rem;
    animation: titlePulse 3s ease-in-out infinite;
  }
  @keyframes titlePulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.8; }
  }
  .subtitle {
    color: rgba(255, 255, 255, 0.85);
    font-size: 1.25rem;
  }
  .container {
    max-width: 1000px;
    margin: 0 auto;
    padding: 2rem 1rem;
  }

  /* Verbesserte Total Score Box mit Animationen */
  .total-score-box {
    text-align: center;
    background: rgba(255,255,255,0.04);
    border: 1px solid rgba(255,255,255,0.1);
    backdrop-filter: blur(16px);
    border-radius: 1.5rem;
    padding: 2rem;
    margin-bottom: 3rem;
    box-shadow: 0 10px 40px rgba(120, 119, 198, 0.3);
    position: sticky;
    top: 20px;
    z-index: 100;
    transition: all 0.3s ease;
  }
  .total-score-box:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 60px rgba(120, 119, 198, 0.4);
  }
  .total-score-ring {
    position: relative;
    width: 180px;
    height: 180px;
    margin: 0 auto 1rem;
  }
  .total-score-ring canvas {
    position: absolute;
    top: 0;
    left: 0;
  }
  .score-value {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 2.5rem;
    font-weight: 800;
    background: linear-gradient(to right, #ffffff, #00ffff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    transition: all 0.3s ease;
  }

  /* Verbessertes Kategorie-Design */
  .category {
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 1.5rem;
    padding: 2rem;
    margin-bottom: 2.5rem;
    backdrop-filter: blur(18px);
    box-shadow: 0 20px 60px rgba(120, 119, 198, 0.15);
    position: relative;
    overflow: hidden;
    animation: fadeInUp 0.6s ease forwards;
    transition: all 0.3s ease;
  }
  .category:hover {
    transform: translateY(-2px);
    box-shadow: 0 25px 70px rgba(120, 119, 198, 0.2);
  }
  .category::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, #7877c6, #533483);
    opacity: 0.8;
  }

  /* Kategorie-Header mit Score-Anzeige */
  .category-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
  }
  .category h2 {
    font-size: 1.25rem;
    margin: 0;
    background: linear-gradient(to right, #8a2be2, #00ffff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  .category-score {
    background: rgba(120, 119, 198, 0.2);
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-weight: 700;
    color: #00e6e6;
    font-size: 0.9rem;
    min-width: 80px;
    text-align: center;
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .question {
    margin-bottom: 1.5rem;
    padding: 1rem;
    background: rgba(255, 255, 255, 0.02);
    border-radius: 10px;
    transition: all 0.3s ease;
  }
  .question:hover {
    background: rgba(255, 255, 255, 0.04);
  }
  .question label {
    display: block;
    margin-bottom: 0.8rem;
    font-weight: 500;
  }

  /* Verbesserte Radio Buttons */
  .radio-group {
    display: flex;
    gap: 0.8rem;
    flex-wrap: wrap;
  }
  .radio-group input[type="radio"] {
    display: none;
  }
  .radio-group label {
    flex: 1;
    min-width: 120px;
    text-align: center;
    background: rgba(120, 119, 198, 0.15);
    color: white;
    border-radius: 25px;
    padding: 1rem 1.5rem;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.95rem;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: inset 0 0 5px rgba(255, 255, 255, 0.1);
    border: 2px solid transparent;
    position: relative;
    overflow: hidden;
  }
  .radio-group label::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    transition: left 0.5s;
  }
  .radio-group label:hover::before {
    left: 100%;
  }
  .radio-group label:hover {
    background: linear-gradient(135deg, #a292f1, #5a3f99);
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(162, 146, 241, 0.4);
  }
  .radio-group input[type="radio"]:checked + span {
    display: inline-block;
    background: linear-gradient(135deg, #533483, #7c5edd);
    box-shadow: 0 0 30px rgba(124, 94, 221, 0.6);
    color: white;
    padding: 1rem 1.5rem;
    border-radius: 25px;
    font-weight: 800;
    font-size: 1rem;
    letter-spacing: 0.6px;
    animation: selectPulse 0.3s ease;
  }
  @keyframes selectPulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
  }

  /* Erfolgs-Feedback */
  .success-message {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: linear-gradient(135deg, #533483, #7c5edd);
    color: white;
    padding: 2rem 3rem;
    border-radius: 20px;
    box-shadow: 0 20px 60px rgba(120, 119, 198, 0.4);
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
    text-align: center;
  }
  .success-message.show {
    opacity: 1;
    visibility: visible;
    animation: successBounce 0.6s ease;
  }
  @keyframes successBounce {
    0% { transform: translate(-50%, -50%) scale(0.8); }
    50% { transform: translate(-50%, -50%) scale(1.1); }
    100% { transform: translate(-50%, -50%) scale(1); }
  }

  /* Responsive Optimierungen */
  @media (max-width: 768px) {
    .container {
      padding: 1rem;
    }
    .main-title {
      font-size: 2.5rem;
    }
    .subtitle {
      font-size: 1rem;
    }
    .category {
      padding: 1.5rem;
    }
    .category-header {
      flex-direction: column;
      gap: 1rem;
      align-items: flex-start;
    }
    .radio-group {
      flex-direction: column;
      gap: 0.8rem;
    }
    .radio-group label {
      min-width: unset;
    }
    .score-value {
      font-size: 2rem;
    }
    .total-score-box {
      position: relative;
      top: unset;
    }
  }

  /* Dark Mode Toggle */
  .theme-toggle {
    position: fixed;
    top: 20px;
    right: 20px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 50px;
    padding: 10px 15px;
    color: white;
    cursor: pointer;
    backdrop-filter: blur(10px);
    transition: all 0.3s ease;
    z-index: 1000;
  }
  .theme-toggle:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: scale(1.1);
  }
</style>
</head>
<body>
  <div class="progress-bar" id="progressBar"></div>
  <div class="theme-toggle" onclick="toggleTheme()">üåô</div>
  <header>
    <h1 class="main-title">NH Score</h1>
    <p class="subtitle">Dein 100 Punkte Status-Quo f√ºr umfassende Gesundheit & Leistungsf√§higkeit</p>
  </header>
  <main class="container">
    <section class="total-score-box">
      <div class="total-score-ring">
        <canvas id="scoreRing" width="180" height="180"></canvas>
        <div class="score-value" id="totalScore">0</div>
      </div>
      <p>Gesamtscore von 100 Punkten</p>
    </section>
    <div id="categories"></div>
  </main>

  <div class="success-message" id="successMessage">
    <h3>üéâ Kategorie abgeschlossen!</h3>
    <p>Weiter so mit der n√§chsten Kategorie!</p>
  </div>

  <script>
    const ctx = document.getElementById('scoreRing').getContext('2d');
    const scoreChart = new Chart(ctx, {
      type: 'doughnut',
      data: {
        labels: ['Punkte', 'Rest'],
        datasets: [{
          data: [0, 100],
          backgroundColor: ['#00c6ff', '#1a1a2e'],
          borderWidth: 0,
        }]
      },
      options: {
        cutout: '75%',
        plugins: { legend: { display: false } },
        animation: {
          animateRotate: true,
          duration: 1000
        }
      }
    });

    const categories = [
      {
        title: 'Schlaf & Erholung',
        questions: [
          'Schl√§fst du mindestens 7‚Äì8 Stunden?',
          'Hast du einen regelm√§√üigen Rhythmus?',
          'Wachst du ohne Wecker auf?',
          'Schl√§fst du durch?',
          'Verzichtest du auf Blaulicht vor dem Schlaf?',
          'Schl√§fst du im dunklen Raum?',
          'Wachst du erholt auf?',
          'Vermeidest du sp√§te Mahlzeiten?',
          'Nimmst du keine Schlafmittel?',
          'F√ºhlst du dich tags√ºber wach?'
        ]
      },
      {
        title: 'Ern√§hrung & Supplements',
        questions: [
          'Verzichtest du auf Zucker?',
          'Isst du t√§glich Gem√ºse?',
          'Trinkst du genug Wasser?',
          'Verwendest du Supplements gezielt?',
          'Hast du regelm√§√üige Essenszeiten?',
          'Isst du ballaststoffreich?',
          'Vermeidest du Fertigprodukte?',
          'Meidest du k√ºnstliche Zus√§tze?',
          'Hast du keine Verdauungsprobleme?',
          'Verzichtest du auf S√º√üstoffe?'
        ]
      },
      {
        title: 'Training & Bewegung',
        questions: [
          'Bewegst du dich t√§glich?',
          'Trainierst du regelm√§√üig?',
          'Kannst du 10.000 Schritte gehen?',
          'Bist du schmerzfrei?',
          'Hast du sportliche Ziele?',
          'Hast du einen Trainingsplan?',
          'Trainierst du Ausdauer?',
          'Trainierst du Kraft?',
          'Bist du flexibel/mobil?',
          'Kannst du problemlos laufen?'
        ]
      },
      {
        title: 'Mindset & Stressmanagement',
        questions: [
          'F√ºhlst du dich selten gestresst?',
          'Meditierst du regelm√§√üig?',
          'Vermeidest du Negativit√§t?',
          'Kennst du deine Ziele?',
          'Hast du klare Werte?',
          'Hast du eine positive Einstellung?',
          'Vermeidest du Multitasking?',
          'Hast du soziale Unterst√ºtzung?',
          'Kannst du abschalten?',
          'F√ºhlst du dich meist gl√ºcklich?'
        ]
      },
      {
        title: 'Lifestyle & Epigenetik',
        questions: [
          'Rauchst du nicht?',
          'Trinkst du wenig Alkohol?',
          'Vermeidest du Plastik?',
          'Hast du sauberes Wasser?',
          'Meidest du sch√§dliche Stoffe?',
          'Nutzt du nat√ºrliche Pflegeprodukte?',
          'Schl√§fst du in einem gesunden Raum?',
          'Hast du Zugang zu Tageslicht?',
          'Verbringst du Zeit in der Natur?',
          'Hast du einen sauberen Lebensstil?'
        ]
      }
    ];

    const categoriesEl = document.getElementById('categories');
    const answers = [];
    let completedCategories = 0;

    categories.forEach((cat, catIdx) => {
      const catEl = document.createElement('section');
      catEl.className = 'category';
      
      const headerEl = document.createElement('div');
      headerEl.className = 'category-header';
      
      const title = document.createElement('h2');
      title.textContent = cat.title;
      
      const scoreEl = document.createElement('div');
      scoreEl.className = 'category-score';
      scoreEl.id = `score-${catIdx}`;
      scoreEl.textContent = '0 / 20';
      
      headerEl.appendChild(title);
      headerEl.appendChild(scoreEl);
      catEl.appendChild(headerEl);
      
      answers[catIdx] = Array(cat.questions.length).fill(null);

      cat.questions.forEach((q, qIdx) => {
        const qEl = document.createElement('div');
        qEl.className = 'question';
        const label = document.createElement('label');
        label.textContent = q;
        qEl.appendChild(label);
        const group = document.createElement('div');
        group.className = 'radio-group';

        ['Nein', 'Teilweise', 'Ja'].forEach((text, val) => {
          const id = `cat${catIdx}_q${qIdx}_v${val}`;
          const radio = document.createElement('input');
          radio.type = 'radio';
          radio.name = `cat${catIdx}_q${qIdx}`;
          radio.value = val;
          radio.id = id;
          radio.onchange = () => {
            answers[catIdx][qIdx] = parseInt(radio.value);
            updateScores();
            checkCategoryCompletion(catIdx);
          };
          const span = document.createElement('span');
          span.textContent = text;
          const lbl = document.createElement('label');
          lbl.htmlFor = id;
          lbl.appendChild(radio);
          lbl.appendChild(span);
          group.appendChild(lbl);
        });
        qEl.appendChild(group);
        catEl.appendChild(qEl);
      });

      categoriesEl.appendChild(catEl);
    });

    function updateScores() {
      let total = 0;
      let answeredQuestions = 0;
      const totalQuestions = categories.reduce((sum, cat) => sum + cat.questions.length, 0);
      
      answers.forEach((group, i) => {
        const sum = group.reduce((a, b) => a + (b !== null ? b : 0), 0);
        const answered = group.filter(a => a !== null).length;
        total += sum;
        answeredQuestions += answered;
        document.getElementById(`score-${i}`).textContent = `${sum} / 20`;
      });
      
      document.getElementById('totalScore').textContent = total;
      scoreChart.data.datasets[0].data = [total, 100 - total];
      scoreChart.update();
      
      // Progress Bar Update
      const progress = (answeredQuestions / totalQuestions) * 100;
      document.getElementById('progressBar').style.width = progress + '%';
    }

    function checkCategoryCompletion(catIdx) {
      const category = answers[catIdx];
      const isComplete = category.every(answer => answer !== null);
      
      if (isComplete) {
        showSuccessMessage();
        // Scroll to next category
        const nextCategory = document.querySelectorAll('.category')[catIdx + 1];
        if (nextCategory) {
          setTimeout(() => {
            nextCategory.scrollIntoView({ behavior: 'smooth', block: 'center' });
          }, 1500);
        }
      }
    }

    function showSuccessMessage() {
      const msg = document.getElementById('successMessage');
      msg.classList.add('show');
      setTimeout(() => {
        msg.classList.remove('show');
      }, 2000);
    }

    function toggleTheme() {
      // Placeholder f√ºr Theme Toggle - kann erweitert werden
      const toggle = document.querySelector('.theme-toggle');
      toggle.textContent = toggle.textContent === 'üåô' ? '‚òÄÔ∏è' : 'üåô';
    }

    // Smooth scroll behavior
    document.addEventListener('DOMContentLoaded', () => {
      // Auto-scroll to first incomplete category
      setTimeout(() => {
        const firstCategory = document.querySelector('.category');
        if (firstCategory) {
          firstCategory.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
      }, 1000);
    });
  </script>
</body>
</html>
